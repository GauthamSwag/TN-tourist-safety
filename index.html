<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TN Tourist Safety System</title>
    
    <link rel="stylesheet" href="style.css"> 
</head>

<canvas id="canvas"></canvas>

<div id="toast-container"></div>

<div id="view-landing">
    <div class="landing-hero">
        <h1>TN TOURIST<br>SAFETY & MONITORING<br>SYSTEM</h1>
        <p>Tamil Nadu Police ‚Ä¢ Cyber Wing</p>
    </div>

    <div class="features-grid">
        <div class="feat-box">
            <span class="feat-icon">üì°</span>
            <div class="feat-title">Geo-Fencing</div>
            <div class="feat-desc">Active monitoring of Ooty, Kodaikanal & Coastal Zones.</div>
        </div>
        <div class="feat-box">
            <span class="feat-icon">‚òï</span>
            <div class="feat-title">Java Backend</div>
            <div class="feat-desc">Powered by Spring Boot Microservices & Kafka Streams.</div>
        </div>
        <div class="feat-box">
            <span class="feat-icon">üÜò</span>
            <div class="feat-title">Smart SOS</div>
            <div class="feat-desc">Instant GPS Link with Chennai Command Center.</div>
        </div>
    </div>

    <button class="btn-init" onclick="switchView('role')">Initialize System</button>
</div>

<main id="app" class="hidden">
    <div class="card">
        <span class="glow"></span>
        
        <div class="inner">
            <div class="app-bar">
                <div class="app-logo">üõ°Ô∏è TN-SAFETY NET</div>
                <div class="clock" id="sys-clock">12:00:00</div>
            </div>

            <div id="view-role">
                <h2>Identity Verification</h2>
                <p class="subtitle">Select Access Level</p>
                <div class="role-grid">
                    <div class="role-card" onclick="switchView('login-tourist')">
                        <span class="role-icon">üéí</span>
                        <div>Tourist</div>
                    </div>
                    <div class="role-card" onclick="switchView('login-officer')">
                        <span class="role-icon">üëÆ‚Äç‚ôÇÔ∏è</span>
                        <div>Safety Officer</div>
                    </div>
                </div>
                <div class="btn-back" onclick="switchView('landing')">‚Üê Disconnect</div>
            </div>

            <div id="view-login-tourist" class="hidden">
                <h2>Tourist Access</h2>
                <p class="subtitle">Secure Gateway</p>
                <form onsubmit="event.preventDefault(); validateAndLogin('tourist')">
                    <div class="form-group">
                        <label>Email / Phone</label>
                        <input type="text" id="t-user" value="visitor@gmail.com">
                    </div>
                    <div class="form-group">
                        <label>Passkey</label>
                        <input type="password" id="t-pass" value="pass">
                    </div>
                    <button class="btn-primary">Authenticate</button>
                </form>
                <div class="btn-back" onclick="switchView('register-tourist')" style="cursor:pointer">New User? Register Here</div>
                <div class="btn-back" onclick="switchView('role')">‚Üê Back</div>
            </div>

            <div id="view-register-tourist" class="hidden">
                <h2>New Registration</h2>
                <p class="subtitle">Traveler Database Entry</p>
                <form onsubmit="event.preventDefault(); validateAndLogin('tourist')">
                    <div class="form-group"><label>Full Name</label><input type="text" id="r-name" placeholder="As per Aadhaar"></div>
                    <div class="form-group">
                        <label>Identity Proof</label>
                        <div class="btn-digi" id="digi-btn" onclick="verifyDigi(this)">
                            <span id="digi-icon">‚òÅÔ∏è</span> <span id="digi-text">Verify with DigiLocker</span>
                        </div>
                    </div>
                    <div class="form-group"><label>Mobile</label><input type="text" placeholder="+91"></div>
                    <button class="btn-primary">Create Account</button>
                </form>
                <div class="btn-back" onclick="switchView('login-tourist')">‚Üê Cancel</div>
            </div>

            <div id="view-dash-tourist" class="hidden">
                <div style="display:flex; justify-content:space-between; align-items:center">
                    <h2>Priya S.</h2>
                    <span style="color:var(--green); font-size:0.7rem; border:1px solid var(--green); padding:2px 6px; border-radius:4px;">VERIFIED</span>
                </div>
                <p class="subtitle">Location: Chennai, TN ‚Ä¢ Safe Zone</p>

                <label>Geo-Tracking (Active)</label>
                <div class="radar-container">
                    <div class="scanner"></div>
                    <div class="dot green" style="top:50%; left:50%;"></div>
                    <div class="dot red" style="top:25%; left:80%;"></div> 
                </div>

                <div class="info-grid">
                    <div class="info-card" style="border-color: var(--cyan);">
                        <h4>Live Weather</h4>
                        <p>32¬∞C ‚òÄÔ∏è Sunny</p>
                    </div>
                    <div class="info-card" style="border-color: var(--purple);">
                        <h4>Nearest Police</h4>
                        <p>Chennai Central (0.8km)</p>
                    </div>
                </div>

                <div style="flex-grow:1"></div>
                <div class="btn-sos" onclick="triggerSOS()">‚ö† TRIGGER SOS ALERT</div>
                <div class="btn-back" onclick="switchView('role')">Log Out</div>
            </div>

            <div id="view-login-officer" class="hidden">
                <h2>Command Login</h2>
                <p class="subtitle">Authorized Personnel Only</p>
                <form onsubmit="event.preventDefault(); validateAndLogin('officer')">
                    <div class="form-group"><label>Badge ID</label><input type="text" id="o-user" value="TN-COP-007"></div>
                    <div class="form-group"><label>Token</label><input type="password" id="o-pass" value="pass"></div>
                    <button class="btn-primary" style="background: var(--purple); color: #fff;">Access Console</button>
                </form>
                <div class="btn-back" onclick="switchView('role')">‚Üê Back</div>
            </div>

            <div id="view-dash-officer" class="hidden">
                <div style="display:flex; justify-content:space-between;">
                    <h2>Command Center</h2>
                    <span style="color:var(--cyan); font-size:0.75rem;">LOC: CHENNAI HQ</span>
                </div>
                <p class="subtitle">Monitoring All TN Sectors</p>

                <label>Live Density Map (TN Grid)</label>
                <div class="radar-container" style="height: 140px; border-color: var(--purple);">
                    <div class="scanner"></div>
                    <div class="dot green" style="top:50%; left:50%;"></div>
                    <div class="dot cyan" style="top:30%; left:60%;"></div>
                    <div class="dot cyan" style="top:60%; left:40%;"></div>
                    <div class="dot cyan" style="top:20%; left:20%;"></div>
                    <div class="dot red" style="top:15%; left:75%;"></div>
                </div>

                <label>Surveillance Grid (Live Feeds)</label>
                <div class="cam-grid">
                    <div class="cam-feed" data-id="1">
                        <div class="noise-bg"></div>
                        <div class="cam-msg">NO SIGNAL</div>
                    </div>
                    <div class="cam-feed" data-id="2">
                        <div class="loader"></div>
                        <div class="cam-msg">CONNECTING...</div>
                    </div>
                    <div class="cam-feed" data-id="3">
                        <div class="cam-msg" style="color:var(--green)">SYSTEM OK</div>
                        <div class="cam-msg">LINK: STABLE</div>
                    </div>
                    <div class="cam-feed" data-id="4">
                        <div class="cam-msg" style="color:var(--red)">OFFLINE</div>
                    </div>
                </div>

                <div class="info-grid">
                    <div class="info-card" style="border-color:var(--green)">
                        <h4>Active Tourists</h4>
                        <p>24,502</p>
                    </div>
                    <div class="info-card" style="border-color:var(--red)">
                        <h4>Active Alerts</h4>
                        <p style="color:var(--red)">5 Critical</p>
                    </div>
                </div>

                <label>Server Terminal (Spring Boot)</label>
                <div class="terminal" id="sys-log">
                    <div class="term-line java"><span>[INFO]</span> SpringBootApp: Started in 1.2s</div>
                    <div class="term-line"><span>[INFO]</span> HikariPool-1: Added connection</div>
                </div>

                <div class="btn-back" onclick="stopChaos(); switchView('role')">Exit Console</div>
            </div>

        </div>
    </div>
</main>
<script type="module" src="script.js"></script>
</body>
